import"./Bzak7iHL.js";import{w as R,x as S,y as v,H as U,T as X,K as Y,I as g,N as a,M as s,O as r,J as B,Q as x,V as tt,R as et}from"./CUmzwEjM.js";import{i as E}from"./AIt528uS.js";import{s as at,b as I}from"./B79_7rn0.js";import{l as rt,s as ot,p as st}from"./BG7SOyfb.js";import{g as nt,b as e,a as N,d as it,c as lt,w as dt,e as ct}from"./BYXg54TK.js";import{C as j}from"./CbYpNqif.js";import"./0-2uNqwM.js";import{I as vt}from"./komQGZa0.js";function O(W,h){const L=rt(h,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const M=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"}]];vt(W,ot({name:"wallet"},()=>L,{get iconNode(){return M},children:(_,V)=>{var b=R(),w=S(b);at(w,h,"default",{}),v(_,b)},$$slots:{default:!0}}))}const ut="data:image/svg+xml,%3csvg%20width='31'%20height='30'%20viewBox='0%200%2031%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20width='30'%20height='30'%20rx='15'%20fill='white'/%3e%3cpath%20d='M12.2265%203C12.3277%203.15217%2013.1596%203.4364%2013.1596%203.53833V7.80904C13.3685%207.8356%2013.5623%207.74157%2013.7668%207.7344C16.8095%207.62529%2019.9073%207.82053%2022.9557%207.7387C23.2019%207.78607%2023.7589%208.5225%2023.9929%208.7163L18.0412%2014.7362C18.5113%2014.7089%2018.8723%2014.5266%2019.3676%2014.5575C25.0064%2014.9128%2026.1153%2024.0536%2021.1039%2026.3404C18.7395%2027.4192%2014.8873%2027.361%2013.5515%2024.7519C13.0197%2023.7126%2012.7957%2021.8579%2014.2499%2021.4962C15.9474%2021.0741%2016.9724%2022.613%2016.1628%2024.055L15.4579%2024.7118C16.8461%2025.9176%2019.4587%2025.8473%2020.6553%2024.3837C22.2229%2022.4666%2022.1052%2017.4551%2019.6231%2016.2399C17.8926%2015.393%2016.7592%2016.3031%2015.2426%2016.9965C15.2562%2016.7682%2015.1866%2016.517%2015.3079%2016.3096L20.6251%209.17352H13.1603V17.3202C13.1603%2017.7523%2013.6707%2018.5102%2014.0769%2018.7005C15.2383%2019.2452%2016.1979%2018.3674%2016.9308%2017.5736C17.1152%2017.374%2017.149%2016.9864%2017.5402%2017.0977C18.5529%2017.3855%2017.5%2018.951%2017.0722%2019.3651C15.5799%2020.8121%2012.0435%2020.5602%2010.9776%2018.7141C10.829%2018.4564%2010.5053%2017.7329%2010.5053%2017.4637V9.17352H6.69971V7.73798C6.7521%207.71861%206.78584%207.80976%206.80737%207.80976H10.5039V4.61498C10.5039%204.54607%209.74878%203.94028%209.67988%203.78811C9.58226%203.57206%209.67055%203.23758%209.64255%203H12.2265Z'%20fill='%232E7EF6'/%3e%3c/svg%3e";var mt=g('<div class="relative group svelte-6xz29x"><button class="flex items-center gap-3 wallet-hover border border-white bg-white group-hover:bg-(--primary) text-(--primary) group-hover:text-white px-4 py-1 rounded-full transition-colors duration-200 svelte-6xz29x"><!> <span class="text-sm font-medium transition-colors"> </span> <!></button> <div class="absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50"><div class="p-4"><div class="text-sm text-gray-600 mb-2">Wallet Address</div> <div class="font-mono text-sm text-gray-900 mb-3 break-all"> </div> <div class="text-sm text-gray-600 mb-2">Balance</div> <div class="text-sm font-medium text-gray-900 mb-4"> </div> <button class="w-full text-sm text-red-600 hover:text-red-700 font-medium py-2 px-3 rounded-md hover:bg-red-50 transition-colors">Log Out</button></div></div></div>'),pt=g('<button class="flex items-center gap-3 border border-white bg-(--primary) hover:bg-(var(--color-bg-light)) text-white hover:text-(--primary) px-4 py-1 rounded-full transition-colors duration-200"><!> <span class="text-sm font-medium">Log In</span></button>'),gt=g('<div class="flex items-center gap-3"><div class="relative group svelte-6xz29x"><button class="flex items-center gap-3 border border-white bg-(--primary) group-hover:bg-(var(--color-bg-light)) text-white group-hover:text-(--primary) pl-1 pr-2 py-1 rounded-full transition-colors duration-200"><img alt="Tezos" class="w-6 h-6"/> <span class="text-sm font-medium">Tezos</span> <!></button></div> <!></div>'),ht=g('<div class="flex items-center justify-between mb-2"><span class="font-mono text-sm truncate text-(--foreground)"> </span> <button class="btn-secondary">Log out</button></div> <div class="text-xs text-(--muted-foreground)"> </div>',1),bt=g('<div class="flex items-center justify-between"><button class="btn-primary" title="To interact with Share Register, connect your personal wallet.">Log In</button></div>'),ft=g('<div class="w-full h-full bg-(--card) rounded-(--radius) shadow p-4 border border-(--border)"><!></div>');function Mt(W,h){U(h,!0);let L=st(h,"navbarMode",3,!1);const M="ꜩ";function _(t){return!t||t.length<8?t||"":`${t.slice(0,3)}...${t.slice(-4)}`}X(async()=>{try{const t=await nt();t?(e.address=t.address,e.isConnected=!0,e.wbalance=await N(t.address)):(e.isConnected=!1,e.address=null,e.wbalance=null)}catch(t){e.error=t instanceof Error?t.message:"Failed to check wallet connection"}});async function V(){e.error=null;try{const t=await lt();e.isConnected=!0,e.address=t.address,e.wbalance=await N(t.address),dt.set(ct)}catch(t){e.error=t instanceof Error?t.message:"Failed to connect wallet",e.isConnected=!1}}async function b(){try{await it(),e.isConnected=!1,e.address=null,e.wbalance=null,e.error=null}catch(t){e.error=t instanceof Error?t.message:"Failed to disconnect wallet"}}var w=R(),D=S(w);{var J=t=>{var u=gt(),f=a(u),y=a(f),C=a(y),i=s(C,4);j(i,{class:"w-4 h-4 text-white group-hover:text-(--primary) chevron-rotate"}),r(y),r(f);var l=s(f,2);{var m=d=>{var o=mt(),c=a(o),z=a(c);O(z,{size:22,strokeWidth:2,class:"w-6 h-6 transition-colors"});var n=s(z,2),F=a(n,!0);r(n);var P=s(n,2);j(P,{class:"w-4 h-4 chevron-rotate"}),r(c);var A=s(c,2),T=a(A),H=s(a(T),2),Q=a(H,!0);r(H);var $=s(H,4),Z=a($);r($);var q=s($,2);q.__click=b,r(T),r(A),r(o),B((k,G)=>{I(n,"title",e.address),x(F,k),x(Q,e.address),x(Z,`${G??""} ꜩ`)},[()=>_(e.address),()=>{var k;return(k=e.wbalance)==null?void 0:k.toFixed(3)}]),v(d,o)},p=d=>{var o=pt();o.__click=V;var c=a(o);O(c,{size:22,strokeWidth:2,class:"w-6 h-6"}),tt(2),r(o),v(d,o)};E(l,d=>{e.isConnected?d(m):d(p,!1)})}r(u),B(()=>I(C,"src",ut)),v(t,u)},K=t=>{var u=ft(),f=a(u);{var y=i=>{var l=ht(),m=S(l),p=a(m),d=a(p,!0);r(p);var o=s(p,2);o.__click=b,r(m);var c=s(m,2),z=a(c);r(c),B((n,F)=>{I(p,"title",e.address),x(d,n),x(z,`Balance: ${F??""} ꜩ`)},[()=>_(e.address),()=>{var n;return(n=e.wbalance)==null?void 0:n.toFixed(3)}]),v(i,l)},C=i=>{var l=bt(),m=a(l);m.__click=V,r(l),v(i,l)};E(f,i=>{e.isConnected?i(y):i(C,!1)})}r(u),v(t,u)};E(D,t=>{L()?t(J):t(K,!1)})}return v(W,w),Y({tezSym:M})}et(["click"]);export{Mt as default};
