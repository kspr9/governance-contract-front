const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BYXg54TK.js","./Bv5Dzk5n.js","./CUmzwEjM.js"])))=>i.map(i=>d[i]);
var Fr=Object.defineProperty;var Yt=t=>{throw TypeError(t)};var Nr=(t,e,r)=>e in t?Fr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Jt=(t,e,r)=>Nr(t,typeof e!="symbol"?e+"":e,r),Dr=(t,e,r)=>e.has(t)||Yt("Cannot "+r);var Dt=(t,e,r)=>(Dr(t,e,"read from private field"),r?r.call(t):e.get(t)),Xt=(t,e,r)=>e.has(t)?Yt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);import{a as Se,s as De,i as F,d as Lt,_ as Gt}from"./AIt528uS.js";import"./Bzak7iHL.js";import{f as Or,b3 as qr,Z as jr,b4 as Gr,b5 as Br,e as Hr,u as Ye,b6 as Wr,b7 as rr,v as Vr,q as Ur,ad as Ve,w as ie,x as X,y as h,aP as Kr,H as _e,I as A,O as d,K as xe,N as m,M as y,a as s,J as V,Q as j,aM as Mt,R as Qe,aD as ve,b8 as _t,B as Ne,s as S,aJ as G,aL as Fe,aC as Rt,c as ge,T as ar,af as Bt,aE as At}from"./CUmzwEjM.js";import{b as Et,c as qe,a as Ce}from"./D2vhXz3w.js";import{H as xt,t as fe}from"./DGaGp340.js";import{r as Je,b as je,e as Yr,T as sr}from"./BYXg54TK.js";import{i as Jr}from"./0-2uNqwM.js";import{I as zt,e as rt,i as dt}from"./komQGZa0.js";import{s as It,e as Xr,c as at,r as Tt,b as Pe,f as Zr,d as or}from"./B79_7rn0.js";import{l as Pt,s as Ft,p as oe,r as nr}from"./BG7SOyfb.js";import{C as lr}from"./CbYpNqif.js";import{t as ce}from"./BXOtlsz2.js";import{b as ir}from"./CuJMLKj1.js";const Qr=()=>performance.now(),Ue={tick:t=>requestAnimationFrame(t),now:()=>Qr(),tasks:new Set};function cr(){const t=Ue.now();Ue.tasks.forEach(e=>{e.c(t)||(Ue.tasks.delete(e),e.f())}),Ue.tasks.size!==0&&Ue.tick(cr)}function $r(t){let e;return Ue.tasks.size===0&&Ue.tick(cr),{promise:new Promise(r=>{Ue.tasks.add(e={c:t,f:r})}),abort(){Ue.tasks.delete(e)}}}function St(t,e){rr(()=>{t.dispatchEvent(new CustomEvent(e))})}function ea(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Zt(t){const e={},r=t.split(";");for(const a of r){const[o,i]=a.split(":");if(!o||i===void 0)break;const n=ea(o.trim());e[n]=i.trim()}return e}const ta=t=>t;function dr(t,e,r,a){var o=(t&Wr)!==0,i="both",n,l=e.inert,f=e.style.overflow,p,c;function b(){return rr(()=>n??(n=r()(e,(a==null?void 0:a())??{},{direction:i})))}var k={is_global:o,in(){e.inert=l,St(e,"introstart"),p=Ht(e,b(),c,1,()=>{St(e,"introend"),p==null||p.abort(),p=n=void 0,e.style.overflow=f})},out(T){e.inert=!0,St(e,"outrostart"),c=Ht(e,b(),p,0,()=>{St(e,"outroend"),T==null||T()})},stop:()=>{p==null||p.abort(),c==null||c.abort()}},_=Or;if((_.transitions??(_.transitions=[])).push(k),qr){var u=o;if(!u){for(var v=_.parent;v&&(v.f&jr)!==0;)for(;(v=v.parent)&&(v.f&Gr)===0;);u=!v||(v.f&Br)!==0}u&&Hr(()=>{Ye(()=>k.in())})}}function Ht(t,e,r,a,o){var i=a===1;if(Vr(e)){var n,l=!1;return Ur(()=>{if(!l){var T=e({direction:i?"in":"out"});n=Ht(t,T,r,a,o)}}),{abort:()=>{l=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return o(),{abort:Ve,deactivate:Ve,reset:Ve,t:()=>a};const{delay:f=0,css:p,tick:c,easing:b=ta}=e;var k=[];if(i&&r===void 0&&(c&&c(0,1),p)){var _=Zt(p(0,1));k.push(_,_)}var u=()=>1-a,v=t.animate(k,{duration:f,fill:"forwards"});return v.onfinish=()=>{v.cancel();var T=(r==null?void 0:r.t())??1-a;r==null||r.abort();var D=a-T,N=e.duration*Math.abs(D),C=[];if(N>0){var E=!1;if(p)for(var P=Math.ceil(N/16.666666666666668),w=0;w<=P;w+=1){var x=T+D*b(w/P),g=Zt(p(x,1-x));C.push(g),E||(E=g.overflow==="hidden")}E&&(t.style.overflow="hidden"),u=()=>{var M=v.currentTime;return T+D*b(M/N)},c&&$r(()=>{if(v.playState!=="running")return!1;var M=u();return c(M,1-M),!0})}v=t.animate(C,{duration:N,fill:"forwards"}),v.onfinish=()=>{u=()=>a,c==null||c(a,1-a),o()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=Ve)},deactivate:()=>{o=Ve},reset:()=>{a===0&&(c==null||c(1,0))},t:()=>u()}}function ra(t,e){const r=Pt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const a=[["path",{d:"m6 17 5-5-5-5"}],["path",{d:"m13 17 5-5-5-5"}]];zt(t,Ft({name:"chevrons-right"},()=>r,{get iconNode(){return a},children:(o,i)=>{var n=ie(),l=X(n);It(l,e,"default",{}),h(o,n)},$$slots:{default:!0}}))}function aa(t,e){const r=Pt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const a=[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]];zt(t,Ft({name:"external-link"},()=>r,{get iconNode(){return a},children:(o,i)=>{var n=ie(),l=X(n);It(l,e,"default",{}),h(o,n)},$$slots:{default:!0}}))}function sa(t,e){const r=Pt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const a=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}]];zt(t,Ft({name:"rotate-cw"},()=>r,{get iconNode(){return a},children:(o,i)=>{var n=ie(),l=X(n);It(l,e,"default",{}),h(o,n)},$$slots:{default:!0}}))}function oa(t,e){const r=Pt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const a=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z"}],["path",{d:"M6 12h16"}]];zt(t,Ft({name:"send-horizontal"},()=>r,{get iconNode(){return a},children:(o,i)=>{var n=ie(),l=X(n);It(l,e,"default",{}),h(o,n)},$$slots:{default:!0}}))}function na(){const{subscribe:t,update:e}=Kr([]);let r=0;return{subscribe:t,add:(a,o,i)=>{const n=r++;e(l=>[...l,{id:n,type:a,message:o,operationHash:i}]),setTimeout(()=>{e(l=>l.filter(f=>f.id!==n))},5e3)},remove:a=>{e(o=>o.filter(i=>i.id!==a))}}}const Ee=na(),la=Object.freeze(Object.defineProperty({__proto__:null,toastStore:Ee},Symbol.toStringTag,{value:"Module"})),ia=t=>t;function ca(t){const e=t-1;return e*e*e+1}function da(t,{delay:e=0,duration:r=400,easing:a=ia}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:a,css:i=>`opacity: ${i*o}`}}function ua(t,{delay:e=0,duration:r=400,easing:a=ca,axis:o="y"}={}){const i=getComputedStyle(t),n=+i.opacity,l=o==="y"?"height":"width",f=parseFloat(i[l]),p=o==="y"?["top","bottom"]:["left","right"],c=p.map(D=>`${D[0].toUpperCase()}${D.slice(1)}`),b=parseFloat(i[`padding${c[0]}`]),k=parseFloat(i[`padding${c[1]}`]),_=parseFloat(i[`margin${c[0]}`]),u=parseFloat(i[`margin${c[1]}`]),v=parseFloat(i[`border${c[0]}Width`]),T=parseFloat(i[`border${c[1]}Width`]);return{delay:e,duration:r,easing:a,css:D=>`overflow: hidden;opacity: ${Math.min(D*20,1)*n};${l}: ${D*f}px;padding-${p[0]}: ${D*b}px;padding-${p[1]}: ${D*k}px;margin-${p[0]}: ${D*_}px;margin-${p[1]}: ${D*u}px;border-${p[0]}-width: ${D*v}px;border-${p[1]}-width: ${D*T}px;min-${l}: 0`}}function ma(t){const e=t-1;return e*e*e+1}var va=A('<p class="text-sm mt-1 font-mono opacity-75"> </p>'),fa=A('<div><div class="flex-1"><p class="font-medium"> </p> <!></div> <button class="btn-close ml-4">×</button></div>'),ha=A('<div class="fixed bottom-4 right-4 z-50 w-96 space-y-2"></div>');function ur(t,e){_e(e,!1);const[r,a]=De(),o=()=>Se(Ee,"$toastStore",r),i=l=>{const f="card p-4 flex items-start justify-between";switch(l){case"success":return`${f} border-l-4 border-(--primary) bg-(--card) text-(--primary)`;case"error":return`${f} border-l-4 border-red-500 bg-(--card) text-red-400`;case"info":return`${f} border-l-4 border-(--accent) bg-(--card) text-(--accent)`}};Jr();var n=ha();rt(n,5,o,l=>l.id,(l,f)=>{var p=fa(),c=m(p),b=m(c),k=m(b,!0);d(b);var _=y(b,2);{var u=T=>{var D=va(),N=m(D);d(D),V(()=>j(N,`Hash: ${s(f).operationHash??""}`)),h(T,D)};F(_,T=>{s(f).operationHash&&T(u)})}d(c);var v=y(c,2);d(p),V(T=>{at(p,1,T),j(k,s(f).message)},[()=>Xr(i(s(f).type))]),Mt("click",v,()=>Ee.remove(s(f).id)),dr(3,p,()=>da,()=>({duration:300,easing:ma})),h(l,p)}),d(n),h(t,n),xe(),a()}function ga(t,e,r){e(!e()),r.onToggle&&r.onToggle(e())}var pa=A('<div class="section-content svelte-1qn11fs"><!></div>'),ba=A('<div class="collapsible-section svelte-1qn11fs"><button type="button" class="btn-collapse svelte-1qn11fs"><div class="section-title-with-tooltip svelte-1qn11fs"><span class="text-heading-md"> </span> <!></div> <div class="chevron-container svelte-1qn11fs"><!></div></button> <!></div>');function ut(t,e){_e(e,!0);let r=oe(e,"open",15,!0);var a=ba(),o=m(a);o.__click=[ga,r,e];var i=m(o),n=m(i),l=m(n,!0);d(n);var f=y(n,2);{var p=u=>{xt(u,{get text(){return e.tooltip}})};F(f,u=>{e.tooltip&&u(p)})}d(i);var c=y(i,2),b=m(c);{let u=ve(()=>r()?"180deg":"0deg");lr(b,{class:"toggle-icon",size:16,get style(){return`transform: rotate(${s(u)??""}); transition: transform 250ms ease-out;`}})}d(c),d(o);var k=y(o,2);{var _=u=>{var v=pa(),T=m(v);_t(T,()=>e.children),d(v),dr(3,v,()=>ua,()=>({duration:250})),h(u,v)};F(k,u=>{r()&&u(_)})}d(a),V(()=>j(l,e.title)),h(t,a),xe()}Qe(["click"]);var _a=A("<span> </span>");function Ge(t,e){_e(e,!0);let r=G(".");Ne(()=>{const i=setInterval(()=>{S(r,s(r).length>=3?".":s(r)+".",!0)},500);return()=>clearInterval(i)});var a=_a(),o=m(a,!0);d(a),V(()=>j(o,s(r))),h(t,a),xe()}var xa=A('<button type="button" class="btn-secondary svelte-f3zgqd"> </button>'),ya=(t,e)=>{e.onSubmit&&e.onSubmit(t)},wa=A('<div><!> <button type="button"><!></button></div>');function Sa(t,e){_e(e,!0);let r=oe(e,"loading",3,!1),a=oe(e,"disabled",3,!1),o=oe(e,"submitLabel",3,"Submit"),i=oe(e,"cancelLabel",3,"Cancel"),n=oe(e,"fullWidth",3,!1);var l=wa(),f=m(l);{var p=u=>{var v=xa();v.__click=function(...D){var N;(N=e.onCancel)==null||N.apply(this,D)};var T=m(v,!0);d(v),V(()=>{v.disabled=a(),j(T,i())}),h(u,v)};F(f,u=>{e.onCancel&&u(p)})}var c=y(f,2);c.__click=[ya,e];var b=m(c);{var k=u=>{Ge(u,{})},_=u=>{var v=Fe();V(()=>j(v,o())),h(u,v)};F(b,u=>{r()?u(k):u(_,!1)})}d(c),d(l),V(()=>{at(l,1,`form-actions ${n()?"full-width":""}`,"svelte-f3zgqd"),at(c,1,`btn-primary ${n()?"btn-full":""}`,"svelte-f3zgqd"),c.disabled=a()||r()}),h(t,l),xe()}Qe(["click"]);var ka=Rt('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>'),Ca=Rt('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22,4 12,14.01 9,11.01"></polyline></svg>'),Aa=Rt('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><path d="M12 9v4"></path><path d="m12 17 .01 0"></path></svg>'),Ea=Rt('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="m12 8 .01 0"></path></svg>'),Ta=A('<button type="button" class="message-dismiss svelte-582s8k"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>'),La=A('<div><div class="message-content svelte-582s8k"><div class="message-icon svelte-582s8k"><!></div> <p class="message-text svelte-582s8k"> </p> <!></div></div>');function Ma(t,e){let r=oe(e,"dismissible",3,!1);var a=La(),o=m(a),i=m(o),n=m(i);{var l=_=>{var u=ka();h(_,u)},f=_=>{var u=ie(),v=X(u);{var T=N=>{var C=Ca();h(N,C)},D=N=>{var C=ie(),E=X(C);{var P=x=>{var g=Aa();h(x,g)},w=x=>{var g=Ea();h(x,g)};F(E,x=>{e.type==="warning"?x(P):x(w,!1)},!0)}h(N,C)};F(v,N=>{e.type==="success"?N(T):N(D,!1)},!0)}h(_,u)};F(n,_=>{e.type==="error"?_(l):_(f,!1)})}d(i);var p=y(i,2),c=m(p,!0);d(p);var b=y(p,2);{var k=_=>{var u=Ta();u.__click=function(...v){var T;(T=e.onDismiss)==null||T.apply(this,v)},h(_,u)};F(b,_=>{r()&&e.onDismiss&&_(k)})}d(o),d(a),V(()=>{at(a,1,`form-message ${e.type??""}`,"svelte-582s8k"),j(c,e.message)}),h(t,a)}Qe(["click"]);function Ra(t,e,r){e(!e()),r.onToggle&&r.onToggle(e())}var za=A('<div class="form-content-container svelte-3y8zeu"><form><!> <div class="form-content svelte-3y8zeu"><!></div> <!></form></div>'),Ia=A('<div class="base-form svelte-3y8zeu"><button type="button" class="form-header svelte-3y8zeu"><div class="form-title-with-tooltip svelte-3y8zeu"><span class="form-title svelte-3y8zeu"> </span> <!></div> <div class="chevron-container svelte-3y8zeu"><!></div></button> <!></div>');function yt(t,e){_e(e,!0);let r=oe(e,"loading",3,!1),a=oe(e,"error",3,null),o=oe(e,"submitLabel",3,"Submit"),i=oe(e,"cancelLabel",3,"Cancel"),n=oe(e,"fullWidth",3,!1),l=oe(e,"disabled",3,!1),f=oe(e,"open",15,!0);var p=Ia(),c=m(p);c.__click=[Ra,f,e];var b=m(c),k=m(b),_=m(k,!0);d(k);var u=y(k,2);{var v=E=>{xt(E,{get text(){return e.tooltip}})};F(u,E=>{e.tooltip&&E(v)})}d(b);var T=y(b,2),D=m(T);{let E=ve(()=>f()?"chevron-open":"");lr(D,{get class(){return`w-5 h-5 toggle-icon chevron-rotate ${s(E)??""}`}})}d(T),d(c);var N=y(c,2);{var C=E=>{var P=za(),w=m(P),x=m(w);{var g=Q=>{Ma(Q,{type:"error",get message(){return a()}})};F(x,Q=>{a()&&Q(g)})}var M=y(x,2),W=m(M);_t(W,()=>e.children),d(M);var ee=y(M,2);Sa(ee,{get loading(){return r()},get disabled(){return l()},get submitLabel(){return o()},get cancelLabel(){return i()},get onCancel(){return e.onCancel},get fullWidth(){return n()},get onSubmit(){return e.onSubmit}}),d(w),d(P),Mt("submit",w,function(...Q){var q;(q=e.onSubmit)==null||q.apply(this,Q)}),h(E,P)};F(N,E=>{f()&&E(C)})}d(p),V(()=>j(_,e.title)),h(t,p),xe()}Qe(["click"]);var Pa=A('<span class="text-destructive">*</span>'),Fa=A('<p class="form-help svelte-1jhswhk"> </p>'),Na=A('<p class="form-error svelte-1jhswhk"> </p>'),Da=A('<div class="form-field svelte-1jhswhk"><label class="form-label svelte-1jhswhk"> <!></label> <input/> <!> <!></div>');function st(t,e){_e(e,!0);let r=oe(e,"type",3,"text"),a=oe(e,"value",15),o=oe(e,"placeholder",3,""),i=oe(e,"required",3,!1),n=oe(e,"error",3,null),l=oe(e,"disabled",3,!1),f=oe(e,"helpText",3,"");var p=Da(),c=m(p),b=m(c),k=y(b);{var _=C=>{var E=Pa();h(C,E)};F(k,C=>{i()&&C(_)})}d(c);var u=y(c,2);Tt(u);var v=y(u,2);{var T=C=>{var E=Fa(),P=m(E,!0);d(E),V(()=>j(P,f())),h(C,E)};F(v,C=>{f()&&C(T)})}var D=y(v,2);{var N=C=>{var E=Na(),P=m(E,!0);d(E),V(()=>j(P,n())),h(C,E)};F(D,C=>{n()&&C(N)})}d(p),V(()=>{Pe(c,"for",e.id),j(b,`${e.label??""} `),Pe(u,"id",e.id),Pe(u,"type",r()),Pe(u,"placeholder",o()),u.required=i(),u.disabled=l(),at(u,1,`input ${n()?"border-destructive":""} ${l()?"disabled":""}`,"svelte-1jhswhk")}),Et(u,a),h(t,p),xe()}var Oa=A("<!> <!>",1);function qa(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(qe,"$contractInstance",r),i=()=>Se(Ce,"$contractState",r);let n=oe(e,"open",15),l=G(ge({amount:"",ownerAddress:""})),f=G(!1),p=G(null),c=G(ge({amount:!1,ownerAddress:!1})),b=G(!1);Ne(()=>{s(l).amount&&(s(c).amount=!1)}),Ne(()=>{s(l).ownerAddress&&s(l).ownerAddress.trim()&&(s(c).ownerAddress=!1)});async function k(_){if(_.preventDefault(),S(b,!0),s(c).amount=!s(l).amount,s(c).ownerAddress=!s(l).ownerAddress||!s(l).ownerAddress.trim(),!(s(c).amount||s(c).ownerAddress)){S(f,!0),S(p,null);try{const u=Number(s(l).amount);if(isNaN(u)||u<=0)throw s(c).amount=!0,new Error("Amount must be a valid positive number");await Je(),await(await o().methodsObject.allocate_shares_to_claimants({amount:u,owner_address:s(l).ownerAddress}).send()).confirmation(2),console.log("Shares allocated successfully"),S(l,{amount:"",ownerAddress:""},!0),S(c,{amount:!1,ownerAddress:!1},!0),S(b,!1),await e.handleLoadContract(i().contractAddress||""),Ee.add("success","Shares allocated successfully"),e.onSuccess&&e.onSuccess()}catch(u){console.error("Failed to allocate shares:",u),u=u instanceof Error?u.message:"Failed to allocate shares"}finally{S(f,!1)}}}yt(t,{title:"Allocate Shares",tooltip:"Allocate shares from treasury to specific addresses",onSubmit:k,get loading(){return s(f)},get error(){return s(p)},submitLabel:"Allocate Shares",get onCancel(){return e.onCancel},disabled:!1,get open(){return n()},set open(_){n(_)},children:(_,u)=>{var v=Oa(),T=X(v);{let N=ve(()=>s(c).amount&&s(b)?"Amount is required":null);st(T,{label:"Amount",id:"allocate-amount",type:"number",placeholder:"Enter number of shares to allocate",required:!0,get error(){return s(N)},helpText:"Number of shares to allocate to the specified owner",get value(){return s(l).amount},set value(C){s(l).amount=C}})}var D=y(T,2);{let N=ve(()=>s(c).ownerAddress&&s(b)?"Owner address is required":null);st(D,{label:"Owner Address",id:"allocate-owner",type:"text",placeholder:"Enter owner Registry address",required:!0,get error(){return s(N)},helpText:"The Registry address that will receive the allocated shares",get value(){return s(l).ownerAddress},set value(C){s(l).ownerAddress=C}})}h(_,v)},$$slots:{default:!0}}),xe(),a()}function ja(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(qe,"$contractInstance",r),i=()=>Se(Ce,"$contractState",r);let n=oe(e,"open",15),l=ge({amount:null}),f=G(!1),p=G(null),c=ge({amount:!1}),b=G(!1);Ne(()=>{l.amount&&(c.amount=!1)});async function k(_){if(_.preventDefault(),S(b,!0),c.amount=!l.amount,!c.amount){if(l.amount!==null&&l.amount<=0){c.amount=!0;return}S(f,!0),S(p,null);try{await Je();const v=await(await o().methods.mint_shares_to_pool(l.amount).send()).confirmation(2);console.log("Shares minted successfully",v),l.amount=null,c.amount=!1,S(b,!1),await e.handleLoadContract(i().contractAddress||""),Ee.add("success","Shares minted successfully",v.hash),e.onSuccess&&e.onSuccess()}catch(u){console.error("Failed to mint shares:",u);const v=u instanceof Error?u.message:"Failed to mint shares";u=v,Ee.add("error",v)}finally{S(f,!1)}}}yt(t,{title:"Mint Shares",tooltip:"Create new shares and add them to the treasury pool",onSubmit:k,get loading(){return s(f)},get error(){return s(p)},submitLabel:"Mint Shares",get onCancel(){return e.onCancel},disabled:!1,get open(){return n()},set open(_){n(_)},children:(_,u)=>{{let v=ve(()=>c.amount&&s(b)?"Amount is required and must be positive":null);st(_,{label:"Amount",id:"mint-amount",type:"number",placeholder:"Enter number of shares to mint",required:!0,get error(){return s(v)},helpText:"Number of new shares to mint to the treasury pool",get value(){return l.amount},set value(T){l.amount=T}})}},$$slots:{default:!0}}),xe(),a()}function Ga(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(qe,"$contractInstance",r),i=()=>Se(Ce,"$contractState",r);let n=oe(e,"open",15),l=ge({newMax:null}),f=G(!1),p=G(null),c=ge({newMax:!1}),b=G(!1);Ne(()=>{l.newMax&&(c.newMax=!1)});async function k(_){if(_.preventDefault(),S(b,!0),c.newMax=!l.newMax,!c.newMax){if(l.newMax!==null&&l.newMax<=0){c.newMax=!0;return}S(f,!0),S(p,null);try{await Je();const v=await(await o().methods.change_max_shares(l.newMax).send()).confirmation(2);console.log("Max shares updated successfully",v),l.newMax=null,c.newMax=!1,S(b,!1),await e.handleLoadContract(i().contractAddress||""),Ee.add("success","Maximum shares updated successfully",v.hash),e.onSuccess&&e.onSuccess()}catch(u){console.error("Failed to change max shares:",u);const v=u instanceof Error?u.message:"Failed to change max shares";u=v,Ee.add("error",v)}finally{S(f,!1)}}}yt(t,{title:"Change Maximum Shares",tooltip:"Update the maximum number of shares allowed",onSubmit:k,get loading(){return s(f)},get error(){return s(p)},submitLabel:"Update Maximum",get onCancel(){return e.onCancel},disabled:!1,get open(){return n()},set open(_){n(_)},children:(_,u)=>{{let v=ve(()=>c.newMax&&s(b)?"New maximum is required and must be positive":null);st(_,{label:"New Maximum",id:"change-max",type:"number",placeholder:"Enter new maximum number of shares",required:!0,get error(){return s(v)},helpText:"The new maximum number of shares that can exist for this company",get value(){return l.newMax},set value(T){l.newMax=T}})}},$$slots:{default:!0}}),xe(),a()}function Ba(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(qe,"$contractInstance",r),i=()=>Se(Ce,"$contractState",r);let n=oe(e,"open",15),l=ge({newAdminAddress:""}),f=G(!1),p=G(null),c=ge({newAdminAddress:!1}),b=G(!1);Ne(()=>{l.newAdminAddress&&l.newAdminAddress.trim()&&(c.newAdminAddress=!1)});async function k(_){if(_.preventDefault(),S(b,!0),c.newAdminAddress=!l.newAdminAddress||!l.newAdminAddress.trim(),!c.newAdminAddress){S(f,!0),S(p,null);try{await Je();const v=await(await o().methods.change_admin(l.newAdminAddress).send()).confirmation(2);console.log("Admin changed successfully",v),l.newAdminAddress="",c.newAdminAddress=!1,S(b,!1),await e.handleLoadContract(i().contractAddress||""),Ee.add("success","Admin changed successfully",v.hash),e.onSuccess&&e.onSuccess()}catch(u){console.error("Failed to change admin:",u);const v=u instanceof Error?u.message:"Failed to change admin";u=v,Ee.add("error",v)}finally{S(f,!1)}}}yt(t,{title:"Change Admin",tooltip:"Transfer admin rights to another address",onSubmit:k,get loading(){return s(f)},get error(){return s(p)},submitLabel:"Change Admin",get onCancel(){return e.onCancel},disabled:!1,get open(){return n()},set open(_){n(_)},children:(_,u)=>{{let v=ve(()=>c.newAdminAddress&&s(b)?"Admin address is required":null);st(_,{label:"New Admin Address",id:"change-admin",type:"text",placeholder:"Enter new admin wallet address",required:!0,get error(){return s(v)},helpText:"The Tezos address that will become the new contract administrator",get value(){return l.newAdminAddress},set value(T){l.newAdminAddress=T}})}},$$slots:{default:!0}}),xe(),a()}var Ha=A("<!> <!>",1);function Wa(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(qe,"$contractInstance",r),i=()=>Se(Ce,"$contractState",r);let n=oe(e,"open",15),l=G(ge({maxShares:null,registryNumber:null})),f=G(!1),p=G(null),c=G(ge({maxShares:!1,registryNumber:!1})),b=G(!1);Ne(()=>{s(l).maxShares&&(s(c).maxShares=!1)}),Ne(()=>{s(l).registryNumber&&(s(c).registryNumber=!1)});async function k(_){if(_.preventDefault(),S(b,!0),s(c).maxShares=!s(l).maxShares,s(c).registryNumber=!s(l).registryNumber,!(s(c).maxShares||s(c).registryNumber)){if(s(l).maxShares!==null&&s(l).maxShares<=0){s(c).maxShares=!0;return}if(s(l).registryNumber!==null&&s(l).registryNumber<=0){s(c).registryNumber=!0;return}S(f,!0),S(p,null);try{await Je();const v=await(await o().methodsObject.add_company_data({max_shares:s(l).maxShares,registry_number:s(l).registryNumber}).send()).confirmation(2);console.log("Company data added successfully",v),S(l,{maxShares:null,registryNumber:null},!0),S(c,{maxShares:!1,registryNumber:!1},!0),S(b,!1),await e.handleLoadContract(i().contractAddress||""),Ee.add("success","Company data added successfully",v.hash),e.onSuccess&&e.onSuccess()}catch(u){console.error("Failed to add company data:",u);const v=u instanceof Error?u.message:"Failed to add company data";u=v,Ee.add("error",v)}finally{S(f,!1)}}}yt(t,{title:"Add Company Data",tooltip:"Add company registry information to the contract",onSubmit:k,get loading(){return s(f)},get error(){return s(p)},submitLabel:"Add Company Data",get onCancel(){return e.onCancel},disabled:!1,get open(){return n()},set open(_){n(_)},children:(_,u)=>{var v=Ha(),T=X(v);{let N=ve(()=>s(c).maxShares&&s(b)?"Maximum shares is required and must be positive":null);st(T,{label:"Maximum Shares",id:"company-max-shares",type:"number",placeholder:"Enter maximum number of shares",required:!0,get error(){return s(N)},helpText:"The maximum number of shares that can be issued for this company",get value(){return s(l).maxShares},set value(C){s(l).maxShares=C}})}var D=y(T,2);{let N=ve(()=>s(c).registryNumber&&s(b)?"Registry number is required and must be positive":null);st(D,{label:"Registry Number",id:"company-registry",type:"number",placeholder:"Enter Estonian business registry number",required:!0,get error(){return s(N)},helpText:"The official registry number from the Estonian Business Register",get value(){return s(l).registryNumber},set value(C){s(l).registryNumber=C}})}h(_,v)},$$slots:{default:!0}}),xe(),a()}var Va=A('<div class="card"><p class="text-muted-foreground">Please connect your wallet to perform contract operations.</p></div>'),Ua=A('<div class="card"><p class="text-muted-foreground">Please load a contract first.</p></div>'),Ka=A('<div class="admin-functions-container svelte-85okb1"><!> <!> <!> <!> <!></div>'),Ya=A('<div class="card"><p class="text-muted-foreground">You are not authorized to perform admin functions. Only the contract admin can access these features.</p></div>'),Ja=A('<div class="space-y-4 mb-8"><!> <!></div>');function Xa(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(Ce,"$contractState",r);let i=G(!0),n=G(!1),l=G(!1),f=G(!1),p=G(!1),c=G(!1),b=G(null);const k=ve(()=>je.address!==null&&fe.admin_address!==null&&je.address===fe.admin_address);async function _(){var E;try{if(await Je(),console.log("Wallet ready for contract:",(E=Yr)==null?void 0:E.getPKH()),!o().contractAddress)throw new Error("Contract address not set");if(!je.isConnected)throw new Error("Wallet not connected");const P=await sr.wallet.at(o().contractAddress);console.log("Contract connected successfully",P),qe.set(P)}catch(P){throw console.error("Failed to load contract:",P),P}}ar(()=>{je.isConnected&&o().contractAddress&&_()});function u(){S(n,!1),S(l,!1),S(f,!1),S(p,!1),S(c,!1),S(b,null)}var v=Ja(),T=m(v);ur(T,{});var D=y(T,2);{var N=E=>{var P=Va();h(E,P)},C=E=>{var P=ie(),w=X(P);{var x=M=>{var W=Ua();h(M,W)},g=M=>{var W=ie(),ee=X(W);{var Q=B=>{ut(B,{title:"Admin Functions",get open(){return s(i)},set open(J){S(i,J,!0)},children:(J,ne)=>{var $=Ka(),L=m($);ja(L,{onSuccess:u,get handleLoadContract(){return e.handleLoadContract},get open(){return s(l)},set open(U){S(l,U,!0)}});var de=y(L,2);qa(de,{onSuccess:u,get handleLoadContract(){return e.handleLoadContract},get open(){return s(n)},set open(U){S(n,U,!0)}});var pe=y(de,2);Ga(pe,{onSuccess:u,get handleLoadContract(){return e.handleLoadContract},get open(){return s(f)},set open(U){S(f,U,!0)}});var ue=y(pe,2);Ba(ue,{onSuccess:u,get handleLoadContract(){return e.handleLoadContract},get open(){return s(p)},set open(U){S(p,U,!0)}});var me=y(ue,2);Wa(me,{onSuccess:u,get handleLoadContract(){return e.handleLoadContract},get open(){return s(c)},set open(U){S(c,U,!0)}}),d($),h(J,$)},$$slots:{default:!0}})},q=B=>{var J=Ya();h(B,J)};F(ee,B=>{s(k)?B(Q):B(q,!1)})}h(M,W)};F(w,M=>{o().contractAddress?M(g,!1):M(x)},!0)}h(E,P)};F(D,E=>{je.isConnected?E(C,!1):E(N)})}d(v),h(t,v),xe(),a()}async function Za(){try{const e=await(await fetch(`https://api.mainnet.tzkt.io/v1/contracts/${Bt(Ce).contractAddress}/storage`)).json();Object.assign(fe,e);const r={eligibleClaimantsEntries:Object.entries(e.eligible_claimants_map??{}),unclaimedSharePoolEntries:Object.entries(e.unclaimed_share_pool??{}),heldExternalSharesEntries:Object.entries(e.held_external_shares??{}),shareLedgerEntries:Object.entries(e.share_ledger??{})};return console.log("TzKT Storage Data:",{max_shares:e.max_shares,admin_address:e.admin_address,issued_shares:e.issued_shares,total_allocated_shares:e.total_allocated_shares,eligible_claimants_map:r.eligibleClaimantsEntries,unclaimed_share_pool:r.unclaimedSharePoolEntries,held_external_shares:r.heldExternalSharesEntries,share_ledger:r.shareLedgerEntries}),r}catch(t){throw console.error("Failed to load contract from TzKT API:",t),t}}async function Qa({amount:t,destination:e,share:r}){if(!je.isConnected)throw new Error("Wallet not connected");const a=Bt(Ce);if(!a.contractAddress)throw new Error("Contract address not set");await Je();let o=Bt(qe);if(o||(o=await sr.wallet.at(a.contractAddress),qe.set(o)),!o)throw new Error("Failed to get contract instance");return(await(await o.methodsObject.transfer_held_shares({amount:t,destination:e,share:r}).send()).confirmation(2)).hash}const Ot="estonianRegistryCache",$a=1440*60*1e3,es=["556655","989898","1235664","3636363","12121212"],ts={556655:{name:"Test Company Alpha Ltd",registryCode:"556655",status:"Active",address:"1234 Test Street, Tallinn 10115, Estonia",registryNumber:"556655",success:!0,isMock:!0},989898:{name:"Demo Corporation Beta OÜ",registryCode:"989898",status:"Active",address:"5678 Demo Avenue, Tartu 50090, Estonia",registryNumber:"989898",success:!0,isMock:!0},1235664:{name:"Sample Business Gamma AS",registryCode:"1235664",status:"Active",address:"9012 Sample Road, Pärnu 80010, Estonia",registryNumber:"1235664",success:!0,isMock:!0},3636363:{name:"Mock Enterprise Delta Ltd",registryCode:"3636363",status:"Active",address:"3456 Mock Boulevard, Narva 20308, Estonia",registryNumber:"3636363",success:!0,isMock:!0},12121212:{name:"Prototype Company Epsilon OÜ",registryCode:"12121212",status:"Active",address:"7890 Prototype Lane, Viljandi 71020, Estonia",registryNumber:"12121212",success:!0,isMock:!0}};var bt;class rs{constructor(){Xt(this,bt,G(ge({})));Jt(this,"pendingRequests",new Map);this.loadFromStorage(),this.clearExpired()}get cache(){return s(Dt(this,bt))}set cache(e){S(Dt(this,bt),e,!0)}isTestRegistryNumber(e){return es.includes(e)}getTestMockData(e){return ts[e]||null}async getCompanyData(e){if(!e)return null;if(this.isTestRegistryNumber(e)){const o=this.cache[e];if(o&&!this.isExpired(o)&&o.data)return o.data;const i=this.getTestMockData(e);if(i){const n={data:i,loading:!1,error:null,timestamp:Date.now()};return this.cache[e]=n,this.saveToStorage(),console.log("Returning mock data for test registry number:",e,i),i}}if(e.length!==8)return null;const r=this.cache[e];if(r&&!this.isExpired(r)&&r.data)return r.data;if(this.pendingRequests.has(e))return await this.pendingRequests.get(e);const a=this.fetchCompanyData(e);this.pendingRequests.set(e,a);try{return await a}finally{this.pendingRequests.delete(e)}}getCacheEntry(e){return this.cache[e]}isLoading(e){var r;return this.pendingRequests.has(e)||((r=this.cache[e])==null?void 0:r.loading)===!0}shouldFetchCompanyName(e){return this.isTestRegistryNumber(e)||e.length===8}async fetchCompanyData(e){var r;this.cache[e]={data:((r=this.cache[e])==null?void 0:r.data)||null,loading:!0,error:null,timestamp:Date.now()};try{console.log("Fetching company data from API for registry number:",e);const a=await fetch(`/api/registry/${e}`),o=await a.json();if(!a.ok)throw new Error(o.error||`HTTP error! status: ${a.status}`);if(!o.success)throw new Error(o.error||"Company not found");const i={data:o,loading:!1,error:null,timestamp:Date.now()};return this.cache[e]=i,this.saveToStorage(),console.log("Successfully cached company data:",o),o}catch(a){const o=a instanceof Error?a.message:"Failed to fetch company data";return console.error(`Failed to fetch company data for ${e}:`,a),this.cache[e]={data:null,loading:!1,error:o,timestamp:Date.now()},this.saveToStorage(),null}}isExpired(e){return Date.now()-e.timestamp>$a}clearExpired(){let e=!1;for(const[r,a]of Object.entries(this.cache))this.isExpired(a)&&(delete this.cache[r],e=!0);e&&this.saveToStorage()}clearCache(){this.cache={},this.saveToStorage()}loadFromStorage(){if(!(typeof window>"u"))try{const e=localStorage.getItem(Ot);if(e){const r=JSON.parse(e);for(const[a,o]of Object.entries(r))this.isExpired(o)||(this.cache[a]=o)}}catch(e){console.error("Failed to load cache from localStorage:",e),localStorage.removeItem(Ot)}}saveToStorage(){if(!(typeof window>"u"))try{localStorage.setItem(Ot,JSON.stringify(this.cache))}catch(e){console.error("Failed to save cache to localStorage:",e)}}getCacheStats(){const e=Object.values(this.cache);return{total:e.length,expired:e.filter(r=>this.isExpired(r)).length,loading:e.filter(r=>r.loading).length,errors:e.filter(r=>r.error!==null).length}}}bt=new WeakMap;const Ke=new rs;function as(){let t=ge({eligibleClaimants:[],unclaimedSharePool:[],heldExternalShares:[],shareLedger:[],loading:!1,error:null});function e(i){t.eligibleClaimants=i.eligibleClaimants??t.eligibleClaimants,t.unclaimedSharePool=i.unclaimedSharePool??t.unclaimedSharePool,t.heldExternalShares=i.heldExternalShares??t.heldExternalShares,t.shareLedger=i.shareLedger??t.shareLedger}function r(i){t.loading=i}function a(i){t.error=i}function o(){t.eligibleClaimants=[],t.unclaimedSharePool=[],t.heldExternalShares=[],t.shareLedger=[],t.loading=!1,t.error=null}return{get state(){return t},set:e,setLoading:r,setError:a,reset:o}}const tt=as(),Kt="-",ss=t=>{const e=ns(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:n=>{const l=n.split(Kt);return l[0]===""&&l.length!==1&&l.shift(),mr(l,e)||os(n)},getConflictingClassGroupIds:(n,l)=>{const f=r[n]||[];return l&&a[n]?[...f,...a[n]]:f}}},mr=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],a=e.nextPart.get(r),o=a?mr(t.slice(1),a):void 0;if(o)return o;if(e.validators.length===0)return;const i=t.join(Kt);return(n=e.validators.find(({validator:l})=>l(i)))==null?void 0:n.classGroupId},Qt=/^\[(.+)\]$/,os=t=>{if(Qt.test(t)){const e=Qt.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},ns=t=>{const{theme:e,classGroups:r}=t,a={nextPart:new Map,validators:[]};for(const o in r)Wt(r[o],a,o,e);return a},Wt=(t,e,r,a)=>{t.forEach(o=>{if(typeof o=="string"){const i=o===""?e:$t(e,o);i.classGroupId=r;return}if(typeof o=="function"){if(ls(o)){Wt(o(a),e,r,a);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([i,n])=>{Wt(n,$t(e,i),r,a)})})},$t=(t,e)=>{let r=t;return e.split(Kt).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},ls=t=>t.isThemeGetter,is=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,a=new Map;const o=(i,n)=>{r.set(i,n),e++,e>t&&(e=0,a=r,r=new Map)};return{get(i){let n=r.get(i);if(n!==void 0)return n;if((n=a.get(i))!==void 0)return o(i,n),n},set(i,n){r.has(i)?r.set(i,n):o(i,n)}}},Vt="!",Ut=":",cs=Ut.length,ds=t=>{const{prefix:e,experimentalParseClassName:r}=t;let a=o=>{const i=[];let n=0,l=0,f=0,p;for(let u=0;u<o.length;u++){let v=o[u];if(n===0&&l===0){if(v===Ut){i.push(o.slice(f,u)),f=u+cs;continue}if(v==="/"){p=u;continue}}v==="["?n++:v==="]"?n--:v==="("?l++:v===")"&&l--}const c=i.length===0?o:o.substring(f),b=us(c),k=b!==c,_=p&&p>f?p-f:void 0;return{modifiers:i,hasImportantModifier:k,baseClassName:b,maybePostfixModifierPosition:_}};if(e){const o=e+Ut,i=a;a=n=>n.startsWith(o)?i(n.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:n,maybePostfixModifierPosition:void 0}}if(r){const o=a;a=i=>r({className:i,parseClassName:o})}return a},us=t=>t.endsWith(Vt)?t.substring(0,t.length-1):t.startsWith(Vt)?t.substring(1):t,ms=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let i=[];return a.forEach(n=>{n[0]==="["||e[n]?(o.push(...i.sort(),n),i=[]):i.push(n)}),o.push(...i.sort()),o}},vs=t=>({cache:is(t.cacheSize),parseClassName:ds(t),sortModifiers:ms(t),...ss(t)}),fs=/\s+/,hs=(t,e)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:i}=e,n=[],l=t.trim().split(fs);let f="";for(let p=l.length-1;p>=0;p-=1){const c=l[p],{isExternal:b,modifiers:k,hasImportantModifier:_,baseClassName:u,maybePostfixModifierPosition:v}=r(c);if(b){f=c+(f.length>0?" "+f:f);continue}let T=!!v,D=a(T?u.substring(0,v):u);if(!D){if(!T){f=c+(f.length>0?" "+f:f);continue}if(D=a(u),!D){f=c+(f.length>0?" "+f:f);continue}T=!1}const N=i(k).join(":"),C=_?N+Vt:N,E=C+D;if(n.includes(E))continue;n.push(E);const P=o(D,T);for(let w=0;w<P.length;++w){const x=P[w];n.push(C+x)}f=c+(f.length>0?" "+f:f)}return f};function gs(){let t=0,e,r,a="";for(;t<arguments.length;)(e=arguments[t++])&&(r=vr(e))&&(a&&(a+=" "),a+=r);return a}const vr=t=>{if(typeof t=="string")return t;let e,r="";for(let a=0;a<t.length;a++)t[a]&&(e=vr(t[a]))&&(r&&(r+=" "),r+=e);return r};function ps(t,...e){let r,a,o,i=n;function n(f){const p=e.reduce((c,b)=>b(c),t());return r=vs(p),a=r.cache.get,o=r.cache.set,i=l,l(f)}function l(f){const p=a(f);if(p)return p;const c=hs(f,r);return o(f,c),c}return function(){return i(gs.apply(null,arguments))}}const we=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},fr=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hr=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bs=/^\d+\/\d+$/,_s=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xs=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ys=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ws=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ss=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ct=t=>bs.test(t),Y=t=>!!t&&!Number.isNaN(Number(t)),Ze=t=>!!t&&Number.isInteger(Number(t)),qt=t=>t.endsWith("%")&&Y(t.slice(0,-1)),We=t=>_s.test(t),ks=()=>!0,Cs=t=>xs.test(t)&&!ys.test(t),gr=()=>!1,As=t=>ws.test(t),Es=t=>Ss.test(t),Ts=t=>!R(t)&&!z(t),Ls=t=>mt(t,_r,gr),R=t=>fr.test(t),et=t=>mt(t,xr,Cs),jt=t=>mt(t,Ps,Y),er=t=>mt(t,pr,gr),Ms=t=>mt(t,br,Es),kt=t=>mt(t,yr,As),z=t=>hr.test(t),pt=t=>vt(t,xr),Rs=t=>vt(t,Fs),tr=t=>vt(t,pr),zs=t=>vt(t,_r),Is=t=>vt(t,br),Ct=t=>vt(t,yr,!0),mt=(t,e,r)=>{const a=fr.exec(t);return a?a[1]?e(a[1]):r(a[2]):!1},vt=(t,e,r=!1)=>{const a=hr.exec(t);return a?a[1]?e(a[1]):r:!1},pr=t=>t==="position"||t==="percentage",br=t=>t==="image"||t==="url",_r=t=>t==="length"||t==="size"||t==="bg-size",xr=t=>t==="length",Ps=t=>t==="number",Fs=t=>t==="family-name",yr=t=>t==="shadow",Ns=()=>{const t=we("color"),e=we("font"),r=we("text"),a=we("font-weight"),o=we("tracking"),i=we("leading"),n=we("breakpoint"),l=we("container"),f=we("spacing"),p=we("radius"),c=we("shadow"),b=we("inset-shadow"),k=we("text-shadow"),_=we("drop-shadow"),u=we("blur"),v=we("perspective"),T=we("aspect"),D=we("ease"),N=we("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...E(),z,R],w=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],g=()=>[z,R,f],M=()=>[ct,"full","auto",...g()],W=()=>[Ze,"none","subgrid",z,R],ee=()=>["auto",{span:["full",Ze,z,R]},Ze,z,R],Q=()=>[Ze,"auto",z,R],q=()=>["auto","min","max","fr",z,R],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],ne=()=>["auto",...g()],$=()=>[ct,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...g()],L=()=>[t,z,R],de=()=>[...E(),tr,er,{position:[z,R]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ue=()=>["auto","cover","contain",zs,Ls,{size:[z,R]}],me=()=>[qt,pt,et],U=()=>["","none","full",p,z,R],ae=()=>["",Y,pt,et],he=()=>["solid","dashed","dotted","double"],Re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[Y,qt,tr,er],ze=()=>["","none",u,z,R],O=()=>["none",Y,z,R],I=()=>["none",Y,z,R],Z=()=>[Y,z,R],te=()=>[ct,"full",...g()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[We],breakpoint:[We],color:[ks],container:[We],"drop-shadow":[We],ease:["in","out","in-out"],font:[Ts],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[We],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[We],shadow:[We],spacing:["px",Y],text:[We],"text-shadow":[We],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ct,R,z,T]}],container:["container"],columns:[{columns:[Y,R,z,l]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Ze,"auto",z,R]}],basis:[{basis:[ct,"full","auto",l,...g()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Y,ct,"auto","initial","none",R]}],grow:[{grow:["",Y,z,R]}],shrink:[{shrink:["",Y,z,R]}],order:[{order:[Ze,"first","last","none",z,R]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:g()}],"gap-x":[{"gap-x":g()}],"gap-y":[{"gap-y":g()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:g()}],px:[{px:g()}],py:[{py:g()}],ps:[{ps:g()}],pe:[{pe:g()}],pt:[{pt:g()}],pr:[{pr:g()}],pb:[{pb:g()}],pl:[{pl:g()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":g()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":g()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[l,"screen",...$()]}],"min-w":[{"min-w":[l,"screen","none",...$()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[n]},...$()]}],h:[{h:["screen","lh",...$()]}],"min-h":[{"min-h":["screen","lh","none",...$()]}],"max-h":[{"max-h":["screen","lh",...$()]}],"font-size":[{text:["base",r,pt,et]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,z,jt]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qt,R]}],"font-family":[{font:[Rs,R,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,z,R]}],"line-clamp":[{"line-clamp":[Y,"none",z,jt]}],leading:[{leading:[i,...g()]}],"list-image":[{"list-image":["none",z,R]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",z,R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Y,"from-font","auto",z,et]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[Y,"auto",z,R]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",z,R]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",z,R]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ze,z,R],radial:["",z,R],conic:[Ze,z,R]},Is,Ms]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Y,z,R]}],"outline-w":[{outline:["",Y,pt,et]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",c,Ct,kt]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",b,Ct,kt]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[Y,et]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",k,Ct,kt]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[Y,z,R]}],"mix-blend":[{"mix-blend":[...Re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Y]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[z,R]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Y]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",z,R]}],filter:[{filter:["","none",z,R]}],blur:[{blur:ze()}],brightness:[{brightness:[Y,z,R]}],contrast:[{contrast:[Y,z,R]}],"drop-shadow":[{"drop-shadow":["","none",_,Ct,kt]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",Y,z,R]}],"hue-rotate":[{"hue-rotate":[Y,z,R]}],invert:[{invert:["",Y,z,R]}],saturate:[{saturate:[Y,z,R]}],sepia:[{sepia:["",Y,z,R]}],"backdrop-filter":[{"backdrop-filter":["","none",z,R]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[Y,z,R]}],"backdrop-contrast":[{"backdrop-contrast":[Y,z,R]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Y,z,R]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Y,z,R]}],"backdrop-invert":[{"backdrop-invert":["",Y,z,R]}],"backdrop-opacity":[{"backdrop-opacity":[Y,z,R]}],"backdrop-saturate":[{"backdrop-saturate":[Y,z,R]}],"backdrop-sepia":[{"backdrop-sepia":["",Y,z,R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":g()}],"border-spacing-x":[{"border-spacing-x":g()}],"border-spacing-y":[{"border-spacing-y":g()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",z,R]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Y,"initial",z,R]}],ease:[{ease:["linear","initial",D,z,R]}],delay:[{delay:[Y,z,R]}],animate:[{animate:["none",N,z,R]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,z,R]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:I()}],"scale-x":[{"scale-x":I()}],"scale-y":[{"scale-y":I()}],"scale-z":[{"scale-z":I()}],"scale-3d":["scale-3d"],skew:[{skew:Z()}],"skew-x":[{"skew-x":Z()}],"skew-y":[{"skew-y":Z()}],transform:[{transform:[z,R,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:te()}],"translate-x":[{"translate-x":te()}],"translate-y":[{"translate-y":te()}],"translate-z":[{"translate-z":te()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",z,R]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",z,R]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[Y,pt,et,jt]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ds=ps(Ns);function wr(...t){return Ds(Zr(t))}var Os=A("<div><!></div>");function qs(t,e){_e(e,!0);let r=oe(e,"ref",15,null),a=nr(e,["$$slots","$$events","$$legacy","ref","class","children"]);var o=Os();or(o,n=>({class:n,...a}),[()=>wr("bg-card text-card-foreground rounded-lg border shadow-sm",e.class)]);var i=m(o);_t(i,()=>e.children??Ve),d(o),ir(o,n=>r(n),()=>r()),h(t,o),xe()}var js=A("<div><!></div>");function Gs(t,e){_e(e,!0);let r=oe(e,"ref",15,null),a=nr(e,["$$slots","$$events","$$legacy","ref","class","children"]);var o=js();or(o,n=>({class:n,...a}),[()=>wr("p-6",e.class)]);var i=m(o);_t(i,()=>e.children??Ve),d(o),ir(o,n=>r(n),()=>r()),h(t,o),xe()}var Bs=A("Loading company data<!>",1),Hs=A('<div class="text-sm text-muted mt-1">Status: <span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800"> </span></div>'),Ws=A('<div class="text-sm text-muted mt-1"> </div>'),Vs=A('<!> <div class="text-sm text-muted mt-1"> </div> <!>',1),Us=A('<div class="text-sm text-[color:var(--destructive)]"> </div>'),Ks=(t,e,r)=>e.handleLoadContract(r().contractAddress||""),Ys=A('<div class="row-span-2 flex items-start"><span class="text-xs text-muted flex items-center pt-2 px-2"> <!></span></div> <div class="flex items-end px-2"><div class="text-stat "> </div></div>',1),Js=A('<div class="card"><div class="px-6 py-4 flex items-start justify-between border-b border-[color:var(--border)]"><div><div class="text-heading-lg"><!></div> <!> <!></div> <div class="flex items-center gap-2 mt-1"><button class="btn-icon svelte-y0gsl8"><!></button> <a class="btn-icon svelte-y0gsl8" target="_blank" rel="noopener noreferrer"><!></a></div></div> <div class="px-6 py-4"><div class="grid grid-cols-3 gap-4 mb-4"><div><span class="text-sm text-muted ">Company Share Register address</span> <div class="text-address"> </div></div> <div><span class="text-sm text-muted"> </span> <div class="text-address"> </div></div> <div><span class="text-sm text-muted"> </span> <div class="text-address"> </div></div></div> <div class="border-t pt-4 border-[color:var(--border)]"><div class="grid grid-cols-5 gap-4"></div></div></div></div>');function Xs(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(Ce,"$contractState",r);let i=ve(()=>()=>fe.share_ledger?Object.values(fe.share_ledger).reduce((b,k)=>b+Number(k),0):0),n=ve(()=>()=>fe.unclaimed_share_pool?Object.values(fe.unclaimed_share_pool).reduce((b,k)=>b+Number(k.amount),0):0),l=ve(()=>[{title:ce.MAX_SHARES,value:fe.max_shares||"Not set",helpText:"The maximum number of shares this company is authorized to issue"},{title:ce.ISSUED_SHARES,value:fe.issued_shares,helpText:null},{title:ce.CLAIMED_SHARES,value:s(i)(),helpText:"Total number of shares that have been claimed by shareholders"},{title:ce.TREASURY_SHARES,value:s(n)(),helpText:"Shares that have been minted but not yet allocated to specific shareholders"},{title:ce.ELIGIBLE_CLAIMANTS,value:fe.total_allocated_shares,helpText:"Total shares allocated to specific addresses but not yet claimed"}]);var f=ie(),p=X(f);{var c=b=>{var k=Js(),_=m(k),u=m(_),v=m(u),T=m(v);{var D=O=>{var I=Bs(),Z=y(X(I));Ge(Z,{}),h(O,I)},N=O=>{var I=ie(),Z=X(I);{var te=H=>{var K=Fe();V(()=>j(K,e.companyData.name)),h(H,K)},be=H=>{var K=Fe();V(()=>j(K,`Share Register for Company ${fe.registry_number??""}`)),h(H,K)};F(Z,H=>{e.companyData?H(te):H(be,!1)},!0)}h(O,I)};F(T,O=>{e.companyDataLoading?O(D):O(N,!1)})}d(v);var C=y(v,2);{var E=O=>{var I=Vs(),Z=X(I);{var te=Te=>{var Le=Hs(),Ae=y(m(Le)),le=m(Ae,!0);d(Ae),d(Le),V(()=>j(le,e.companyData.status)),h(Te,Le)};F(Z,Te=>{e.companyData.status&&Te(te)})}var be=y(Z,2),H=m(be);d(be);var K=y(be,2);{var ye=Te=>{var Le=Ws(),Ae=m(Le,!0);d(Le),V(()=>j(Ae,e.companyData.address)),h(Te,Le)};F(K,Te=>{e.companyData.address&&Te(ye)})}V(()=>j(H,`${ce.REGISTRY_NUMBER_SMALL}: ${fe.registry_number??""}`)),h(O,I)};F(C,O=>{e.companyData&&O(E)})}var P=y(C,2);{var w=O=>{var I=Us(),Z=m(I,!0);d(I),V(()=>j(Z,e.companyDataError)),h(O,I)};F(P,O=>{e.companyDataError&&O(w)})}d(u);var x=y(u,2),g=m(x);g.__click=[Ks,e,o];var M=m(g);sa(M,{class:"w-5 h-5",style:"color: var(--primary-foreground)"}),d(g);var W=y(g,2),ee=m(W);aa(ee,{class:"w-5 h-5",style:"color: var(--primary-foreground)"}),d(W),d(x),d(_);var Q=y(_,2),q=m(Q),B=m(q),J=y(m(B),2),ne=m(J,!0);d(J),d(B);var $=y(B,2),L=m($),de=m(L,!0);d(L);var pe=y(L,2),ue=m(pe,!0);d(pe),d($);var me=y($,2),U=m(me),ae=m(U,!0);d(U);var he=y(U,2),Re=m(he,!0);d(he),d(me),d(q);var se=y(q,2),ze=m(se);rt(ze,21,()=>s(l),dt,(O,I)=>{qs(O,{class:"bg-[color:var(--muted)] border-[color:var(--border)]",children:(Z,te)=>{Gs(Z,{class:"p-2 grid grid-rows-3 h-25",children:(be,H)=>{var K=Ys(),ye=X(K),Te=m(ye),Le=m(Te),Ae=y(Le);{var le=re=>{xt(re,{get text(){return s(I).helpText}})};F(Ae,re=>{s(I).helpText&&re(le)})}d(Te),d(ye);var Me=y(ye,2),Oe=m(Me),ft=m(Oe,!0);d(Oe),d(Me),V(()=>{j(Le,`${s(I).title??""} `),j(ft,s(I).value)}),h(be,K)},$$slots:{default:!0}})},$$slots:{default:!0}})}),d(ze),d(se),d(Q),d(k),V(()=>{Pe(g,"title",ce.RELOAD_CONTRACT),Pe(g,"aria-label",ce.RELOAD_CONTRACT),Pe(W,"href",`https://better-call.dev/mainnet/${o().contractAddress}/operations`),Pe(W,"title",ce.VIEW_ON_EXPLORER),Pe(W,"aria-label",ce.VIEW_ON_EXPLORER),j(ne,o().contractAddress),j(de,ce.ADMIN_ADDRESS),j(ue,fe.admin_address),j(ae,ce.REGISTRY_NUMBER_SMALL),j(Re,fe.registry_number||"Not set")}),h(b,k)};F(p,b=>{fe.admin_address!==null&&b(c)})}h(t,f),xe(),a()}Qe(["click"]);var Zs=(t,e,r)=>e(s(r).id),Qs=A('<button type="button" role="tab"> <!></button>'),$s=A('<div class="w-full"><div class="border-b border-[color:var(--border)] mb-6"><nav class="flex space-x-8 svelte-1lneyen" aria-label="Dashboard Tabs"></nav></div> <div class="tab-content svelte-1lneyen" role="tabpanel"><!></div></div>');function eo(t,e){_e(e,!0);let r=oe(e,"activeTab",7,"wallet");const a=ve(()=>je.address!==null&&fe.admin_address!==null&&je.address===fe.admin_address);function o(b){var k;r(b),(k=e.onTabChange)==null||k.call(e,b)}const i=ve(()=>[{id:"wallet",label:ce.TAB_WALLET,helpText:"View and manage your share portfolio"},{id:"register",label:ce.TAB_REGISTER,helpText:ce.HELP_SHARE_REGISTER},...s(a)?[{id:"admin",label:ce.TAB_ADMIN,helpText:"Company management and administrative functions"}]:[]]);var n=$s(),l=m(n),f=m(l);rt(f,21,()=>s(i),dt,(b,k)=>{var _=Qs();let u;_.__click=[Zs,o,k];var v=m(_),T=y(v);xt(T,{get text(){return s(k).helpText},position:"top"}),d(_),V(D=>{u=at(_,1,"py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 flex items-center svelte-1lneyen",null,u,D),Pe(_,"aria-selected",r()===s(k).id),j(v,`${s(k).label??""} `)},[()=>({"border-[color:var(--primary)]":r()===s(k).id,"text-primary":r()===s(k).id,"border-transparent":r()!==s(k).id,"text-muted":r()!==s(k).id})]),h(b,_)}),d(f),d(l);var p=y(l,2),c=m(p);_t(c,()=>e.children??Ve,r),d(p),d(n),h(t,n),xe()}Qe(["click"]);var to=A('<span class="text-(--muted-foreground)">Loading<!></span>'),ro=A('<span class="text-(--muted-foreground)">Unknown</span>'),ao=A("<span> </span>"),so=A('<span class="text-(--muted-foreground)">-</span>'),oo=(t,e,r)=>{Lt(Ce,Ye(e).contractAddress=r.ticket.address,Ye(e)),r.handleLoadContract(r.ticket.address)},no=A('<span class="text-(--muted-foreground) ml-2">...</span>'),lo=A('<span class="text-sm text-(--muted-foreground) ml-1"> </span>'),io=A('<span class="text-(--muted-foreground) ml-2">?</span>'),co=(t,e)=>{S(e,!s(e))},uo=A("Transferring<!>",1),mo=A("Complete transfer <!>",1),vo=A('<div class="bg-(--destructive)/10 p-3 rounded-md flex items-center gap-2"><svg class="w-5 h-5 text-(--destructive)" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="text-(--destructive)"> </span></div>'),fo=A('<form class="mt-2 flex flex-col gap-2"><div class="flex gap-2 items-center"><input class="input flex-1" placeholder="Recipient Address"/> <input class="input flex-1" placeholder="Number of Shares" type="number" min="1"/> <button type="submit" class="btn-primary flex items-center gap-2 svelte-17et70a"><!></button></div> <!></form>'),ho=A('<div class="owned-share-card bg-(--card) rounded-(--radius) shadow-md p-5 flex flex-col gap-3 border border-(--border)"><div class="grid items-center overflow-hidden card-grid svelte-17et70a"><div class="flex flex-col"><span class="text-xs text-muted flex items-center">Registry Number</span> <span class="text-muted font-semibold text-(--foreground)"> </span></div> <div class="flex flex-col min-w-0"><span class="text-xs text-muted flex items-center">Company Name</span> <div class="text-sm text-(--foreground) truncate"><!></div></div> <div class="flex flex-col min-w-0"><div class="text-xs text-muted flex items-center"> <!></div> <button class="font-mono text-sm text-(--primary) hover:none text-left truncate min-w-0 cursor-default svelte-17et70a" title="Load this contract"> </button></div> <div class="flex flex-col"><span class="text-xs text-(--muted-foreground)"> </span> <span class="text-lg font-bold text-(--foreground)"><span class="text-muted"> </span> <!></span></div> <div class="flex justify-end"><button title="Transfer"><span class="text-sm">Transfer</span> <!></button></div></div> <!></div>');function go(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(Ce,"$contractState",r);let i=G(!1),n=G(ge({destination:"",amount:""})),l=G(!1),f=G(null),p=G(null),c=G(null),b=G(!1),k=G(null);async function _(O){O.preventDefault();const{destination:I,amount:Z}=s(n);if(!(!I||!Z)){S(l,!0),S(f,null),S(p,null);try{const te=await Qa({amount:Z,destination:I,share:e.ticket.address});S(p,te,!0),Ee.add("success",`Successfully transferred ${Z} shares to ${I}`,te),setTimeout(()=>{S(n,{destination:"",amount:""},!0),S(i,!1),e.handleLoadContract(o().contractAddress||"")},2e3)}catch(te){console.error("Transfer failed:",te),S(f,te instanceof Error?te.message:"Failed to transfer shares",!0)}finally{S(l,!1)}}}Ne(()=>{var I;const O=(I=e.maxSharesCache[e.ticket.address])==null?void 0:I.registry_number;O&&Ke.shouldFetchCompanyName(O)&&u(O)});async function u(O){S(b,!0),S(k,null),S(c,null);try{const I=await Ke.getCompanyData(O);if(I&&I.name)S(c,I.name,!0),S(k,null);else{const Z=Ke.getCacheEntry(O);S(k,(Z==null?void 0:Z.error)||"Company not found",!0)}}catch(I){console.error(`Failed to fetch company name for ${O}:`,I),S(k,I instanceof Error?I.message:"Failed to fetch company name",!0)}finally{S(b,!1)}}var v=ho(),T=m(v),D=m(T),N=y(m(D),2),C=m(N,!0);d(N),d(D);var E=y(D,2),P=y(m(E),2),w=m(P);{var x=O=>{var I=to(),Z=y(m(I));Ge(Z,{}),d(I),h(O,I)},g=O=>{var I=ie(),Z=X(I);{var te=H=>{var K=ro();V(()=>Pe(K,"title",s(k))),h(H,K)},be=H=>{var K=ie(),ye=X(K);{var Te=Ae=>{var le=ao(),Me=m(le,!0);d(le),V(()=>{Pe(le,"title",s(c)),j(Me,s(c))}),h(Ae,le)},Le=Ae=>{var le=so();h(Ae,le)};F(ye,Ae=>{s(c)?Ae(Te):Ae(Le,!1)},!0)}h(H,K)};F(Z,H=>{s(k)?H(te):H(be,!1)},!0)}h(O,I)};F(w,O=>{s(b)?O(x):O(g,!1)})}d(P),d(E);var M=y(E,2),W=m(M),ee=m(W),Q=y(ee);xt(Q,{text:"The share register where these shares were issued"}),d(W);var q=y(W,2);q.__click=[oo,o,e];var B=m(q,!0);d(q),d(M);var J=y(M,2),ne=m(J),$=m(ne,!0);d(ne);var L=y(ne,2),de=m(L),pe=m(de);d(de);var ue=y(de,2);{var me=O=>{var I=no();h(O,I)},U=O=>{var I=ie(),Z=X(I);{var te=H=>{var K=lo(),ye=m(K,!0);d(K),V(()=>j(ye,e.maxSharesCache[e.ticket.address].issued_shares||e.maxSharesCache[e.ticket.address].max_shares)),h(H,K)},be=H=>{var K=io();h(H,K)};F(Z,H=>{e.maxSharesCache[e.ticket.address]?H(te):H(be,!1)},!0)}h(O,I)};F(ue,O=>{e.maxSharesLoading[e.ticket.address]?O(me):O(U,!1)})}d(L),d(J);var ae=y(J,2),he=m(ae);he.__click=[co,i];var Re=y(m(he),2);oa(Re,{class:"w-4 h-4"}),d(he),d(ae),d(T);var se=y(T,2);{var ze=O=>{var I=fo(),Z=m(I),te=m(Z);Tt(te);var be=y(te,2);Tt(be);var H=y(be,2),K=m(H);{var ye=le=>{var Me=uo(),Oe=y(X(Me));Ge(Oe,{}),h(le,Me)},Te=le=>{var Me=mo(),Oe=y(X(Me));ra(Oe,{class:"w-6 h-6"}),h(le,Me)};F(K,le=>{s(l)?le(ye):le(Te,!1)})}d(H),d(Z);var Le=y(Z,2);{var Ae=le=>{var Me=vo(),Oe=y(m(Me),2),ft=m(Oe,!0);d(Oe),d(Me),V(()=>j(ft,s(f))),h(le,Me)};F(Le,le=>{s(f)&&le(Ae)})}d(I),V(()=>{te.disabled=s(l),be.disabled=s(l),H.disabled=s(l)}),Mt("submit",I,_),Et(te,()=>s(n).destination,le=>s(n).destination=le),Et(be,()=>s(n).amount,le=>s(n).amount=le),h(O,I)};F(se,O=>{s(i)&&O(ze)})}d(v),V(()=>{var O;j(C,((O=e.maxSharesCache[e.ticket.address])==null?void 0:O.registry_number)||"Not set"),j(ee,`${ce.ISSUING_CONTRACT} `),j(B,e.ticket.address),j($,ce.AMOUNT),j(pe,`${e.ticket.amount??""} /`),at(he,1,(s(i)?"btn-secondary":"btn-primary")+" flex items-center gap-2","svelte-17et70a")}),h(t,v),xe(),a()}Qe(["click"]);var po=A('<div class="text-center p-6 text-(--muted-foreground) bg-(--muted)/10 rounded-lg"><svg class="w-12 h-12 mx-auto mb-3 text-(--muted-foreground)" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <p class="text-sm">No shares in your portfolio</p> <p class="text-xs mt-1">Claim shares below to add them to your wallet</p></div>'),bo=A('<div class="space-y-4"><!></div>'),_o=A('<div class="text-(--destructive)"> </div>'),xo=A("Claiming<!>",1),yo=A(`<form class="space-y-3"><input type="text" class="input w-full" placeholder="Enter the issuing register's address to claim your allocated shares"/> <!> <div class="flex justify-end"><button type="submit" class="btn-primary"><!></button></div></form>`),wo=A('<div class="p-4 text-(--muted-foreground) bg-(--muted)/10 rounded-lg text-center">Please connect your wallet to claim shares.</div>'),So=A('<div class="space-y-6"><!> <!> <!></div>');function ko(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(qe,"$contractInstance",r),i=()=>Se(Ce,"$contractState",r);let{state:n}=tt,l=ge({claimShares:{address:""}}),f=ge({claimShares:!1}),p=ge({claimShares:null}),c=G(!0),b=G(!1);async function k(N){N.preventDefault(),f.claimShares=!0,p.claimShares=null;try{await Je();const C=o();if(!C)throw new Error("Contract instance not found");const P=await(await C.methodsObject.claim_shares(l.claimShares.address).send()).confirmation(2);console.log("Shares claimed successfully"),Ee.add("success","Shares claimed successfully",P.hash),l.claimShares.address="",await e.handleLoadContract(i().contractAddress||"")}catch(C){console.error("Failed to claim shares:",C);const E=C instanceof Error?C.message:"Failed to claim shares";p.claimShares=E,Ee.add("error",E)}finally{f.claimShares=!1}}var _=So(),u=m(_);ut(u,{get title(){return ce.HELD_SHARES},tooltip:"Shares you own from various companies",get open(){return s(c)},set open(N){S(c,N,!0)},children:(N,C)=>{var E=bo(),P=m(E);{var w=g=>{var M=ie(),W=X(M);rt(W,17,()=>n.heldExternalShares,dt,(ee,Q)=>{var q=ve(()=>At(s(Q),2));let B=()=>s(q)[1];go(ee,{get ticket(){return B()},get maxSharesCache(){return e.maxSharesCache},get maxSharesLoading(){return e.maxSharesLoading},get handleLoadContract(){return e.handleLoadContract}})}),h(g,M)},x=g=>{var M=po();h(g,M)};F(P,g=>{n.heldExternalShares.length>0?g(w):g(x,!1)})}d(E),h(N,E)},$$slots:{default:!0}});var v=y(u,2);ut(v,{get title(){return ce.CLAIM_SHARES},get tooltip(){return ce.HELP_CLAIM_SHARES},get open(){return s(b)},set open(N){S(b,N,!0)},children:(N,C)=>{var E=yo(),P=m(E);Tt(P);var w=y(P,2);{var x=q=>{var B=_o(),J=m(B,!0);d(B),V(()=>j(J,p.claimShares)),h(q,B)};F(w,q=>{p.claimShares&&q(x)})}var g=y(w,2),M=m(g),W=m(M);{var ee=q=>{var B=xo(),J=y(X(B));Ge(J,{}),h(q,B)},Q=q=>{var B=Fe();V(()=>j(B,ce.CLAIM_SHARES)),h(q,B)};F(W,q=>{f.claimShares?q(ee):q(Q,!1)})}d(M),d(g),d(E),V(()=>{P.disabled=f.claimShares,M.disabled=f.claimShares||!je.isConnected}),Mt("submit",E,q=>k(q)),Et(P,()=>l.claimShares.address,q=>l.claimShares.address=q),h(N,E)},$$slots:{default:!0}});var T=y(v,2);{var D=N=>{var C=wo();h(N,C)};F(T,N=>{je.isConnected||N(D)})}d(_),h(t,_),xe(),a()}var Co=A('<tr class="svelte-2rq8ks"><td class="text-center p-4 svelte-2rq8ks" colspan="4"><!></td></tr>'),Ao=A('<span class="shares-percentage svelte-2rq8ks"> </span>'),Eo=A('<span class="text-[color:var(--destructive)]">Error</span>'),To=(t,e,r,a)=>{Lt(Ce,Ye(e).contractAddress=r(),Ye(e)),a.handleLoadContract(r())},Lo=A('<button class="wallet-link svelte-2rq8ks"> </button>'),Mo=A('<span class="wallet-address svelte-2rq8ks"> </span>'),Ro=A('<tr class="svelte-2rq8ks"><td class="shares-cell svelte-2rq8ks"><span class="shares-count svelte-2rq8ks"> </span> <!></td><td class="svelte-2rq8ks"><!></td><td class="svelte-2rq8ks"><!></td><td class="svelte-2rq8ks"><!></td></tr>'),zo=A('<tr class="svelte-2rq8ks"><td class="text-center p-2 text-muted svelte-2rq8ks" colspan="4">No share ledger entries</td></tr>'),Io=A('<table class="cap-table svelte-2rq8ks"><colgroup><col style="width: 20%;"/><col style="width: 25%;"/><col style="width: 20%;"/><col style="width: 35%;"/></colgroup><thead class="svelte-2rq8ks"><tr class="svelte-2rq8ks"><th class="svelte-2rq8ks">OWNED SHARES</th><th class="svelte-2rq8ks">NAME</th><th class="svelte-2rq8ks">REGISTRY NUMBER</th><th class="svelte-2rq8ks">WALLET ADDRESS</th></tr></thead><tbody class="svelte-2rq8ks"><!></tbody></table>'),Po=A('<tr class="table-row"><td class="text-left p-2"> </td><td class="text-right p-2"> </td></tr>'),Fo=A('<tr class="table-row"><td class="text-center p-2 text-muted" colspan="2">No unallocated shares</td></tr>'),No=A('<table class="w-full border-collapse text-sm table-fixed"><thead><tr class="table-header"><th class="text-left p-2">Issuer</th><th class="text-right p-2">Amount</th></tr></thead><tbody><!></tbody></table>'),Do=(t,e,r,a)=>{Lt(Ce,Ye(e).contractAddress=r(),Ye(e)),a.handleLoadContract(r())},Oo=A('<button class="text-primary hover:text-[color:var(--accent)] hover:underline text-left"> </button>'),qo=(t,e,r)=>e(r()),jo=A("Sending <!>",1),Go=A('<tr class="table-row"><td class="font-mono p-2"><!></td><td class="text-right p-2"><div class="flex items-center justify-end gap-2"><span> </span> <button class="btn-sm" title="Distribute shares to this address"><!></button></div></td></tr>'),Bo=A('<tr class="table-row"><td class="text-center p-2 text-muted" colspan="3">No pending allocations</td></tr>'),Ho=A('<div class="text-[color:var(--destructive)] mt-2"> </div>'),Wo=A('<table class="w-full border-collapse text-sm table-fixed"><colgroup><col style="width: 70%;"/><col style="width: 30%;"/></colgroup><thead><tr class="table-header"><th class="text-left p-2">Address</th><th class="text-center p-2">Entitled Shares</th></tr></thead><tbody><!></tbody></table> <!>',1),Vo=A('<div class="space-y-4 mb-8"><!> <!> <!></div>');function Uo(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(qe,"$contractInstance",r),i=()=>Se(Ce,"$contractState",r);let{state:n}=tt,l=ve(()=>[...n.shareLedger].sort((C,E)=>Number(E[1])-Number(C[1]))),f=G(!0),p=G(!1),c=G(!1),b=G(null),k=G(null),_=ve(()=>n.eligibleClaimants.length>0);Ne(()=>{});async function u(C){if(s(_)){S(b,C,!0),S(k,null);try{const{resetProvider:E}=await Gt(async()=>{const{resetProvider:M}=await import("./BYXg54TK.js").then(W=>W.f);return{resetProvider:M}},__vite__mapDeps([0,1,2]),import.meta.url),{toastStore:P}=await Gt(async()=>{const{toastStore:M}=await Promise.resolve().then(()=>la);return{toastStore:M}},void 0,import.meta.url);await E();const w=o();if(!w)throw new Error("Contract instance not found");console.log("ContractState.address:",i().contractAddress),console.log("ContractInstance:",w),console.log("Address param:",C),console.log("Param object:",{destination_address:C});const g=await(await w.methods.claim_shares_direct(C).send()).confirmation(2);await e.handleLoadContract(i().contractAddress||""),P.add("success","Direct claim of shares successful",g.hash)}catch(E){S(k,E instanceof Error?E.message:"Failed to claim shares directly",!0)}finally{S(b,null)}}}var v=Vo(),T=m(v);ut(T,{get title(){return ce.SHARE_LEDGER},get tooltip(){return ce.HELP_SHARE_REGISTER},get open(){return s(f)},set open(C){S(f,C,!0)},children:(C,E)=>{var P=Io(),w=y(m(P),2),x=m(w);{var g=W=>{var ee=Co(),Q=m(ee),q=m(Q);Ge(q,{}),d(Q),d(ee),h(W,ee)},M=W=>{var ee=ie(),Q=X(ee);{var q=J=>{var ne=ie(),$=X(ne);rt($,17,()=>s(l),dt,(L,de)=>{var pe=ve(()=>At(s(de),2));let ue=()=>s(pe)[0],me=()=>s(pe)[1];var U=Ro();const ae=ve(()=>{var re;return(re=e.maxSharesCache[ue()])==null?void 0:re.registry_number}),he=ve(()=>s(ae)?e.shareholderNameCache[s(ae)]:void 0),Re=ve(()=>s(ae)&&Ke.shouldFetchCompanyName(s(ae)));var se=m(U),ze=m(se),O=m(ze,!0);d(ze);var I=y(ze,2);{var Z=re=>{var ke=Ao(),Be=m(ke);d(ke),V(ht=>j(Be,`(${ht??""}%)`),[()=>(Number(me())/Number(fe.max_shares)*100).toFixed(2)]),h(re,ke)};F(I,re=>{fe.max_shares&&Number(fe.max_shares)>0&&re(Z)})}d(se);var te=y(se),be=m(te);{var H=re=>{Ge(re,{})},K=re=>{var ke=ie(),Be=X(ke);{var ht=Ie=>{var He=ie(),Sr=X(He);{var kr=ot=>{var wt=ie(),Ar=X(wt);{var Er=nt=>{Ge(nt,{})},Tr=nt=>{var gt=ie(),Lr=X(gt);{var Mr=lt=>{var Xe=Fe();V(()=>j(Xe,s(he).name)),h(lt,Xe)},Rr=lt=>{var Xe=ie(),zr=X(Xe);{var Ir=it=>{var $e=Eo();V(()=>Pe($e,"title",s(he).error)),h(it,$e)},Pr=it=>{var $e=Fe("-");h(it,$e)};F(zr,it=>{var $e;($e=s(he))!=null&&$e.error?it(Ir):it(Pr,!1)},!0)}h(lt,Xe)};F(Lr,lt=>{var Xe;(Xe=s(he))!=null&&Xe.name?lt(Mr):lt(Rr,!1)},!0)}h(nt,gt)};F(Ar,nt=>{var gt;(gt=s(he))!=null&&gt.loading?nt(Er):nt(Tr,!1)})}h(ot,wt)},Cr=ot=>{var wt=Fe("Private person");h(ot,wt)};F(Sr,ot=>{s(Re)?ot(kr):ot(Cr,!1)})}h(Ie,He)},Nt=Ie=>{var He=Fe("-");h(Ie,He)};F(Be,Ie=>{s(ae)?Ie(ht):Ie(Nt,!1)},!0)}h(re,ke)};F(be,re=>{e.maxSharesLoading[ue()]?re(H):re(K,!1)})}d(te);var ye=y(te),Te=m(ye);{var Le=re=>{Ge(re,{})},Ae=re=>{var ke=ie(),Be=X(ke);{var ht=Ie=>{var He=Fe();V(()=>j(He,s(ae))),h(Ie,He)},Nt=Ie=>{var He=Fe("-");h(Ie,He)};F(Be,Ie=>{s(ae)?Ie(ht):Ie(Nt,!1)},!0)}h(re,ke)};F(Te,re=>{e.maxSharesLoading[ue()]?re(Le):re(Ae,!1)})}d(ye);var le=y(ye),Me=m(le);{var Oe=re=>{var ke=Lo();ke.__click=[To,i,ue,e];var Be=m(ke,!0);d(ke),V(()=>j(Be,ue())),h(re,ke)},ft=re=>{var ke=Mo(),Be=m(ke,!0);d(ke),V(()=>j(Be,ue())),h(re,ke)};F(Me,re=>{ue().startsWith("KT1")?re(Oe):re(ft,!1)})}d(le),d(U),V(()=>j(O,me())),h(L,U)}),h(J,ne)},B=J=>{var ne=zo();h(J,ne)};F(Q,J=>{s(l).length>0?J(q):J(B,!1)},!0)}h(W,ee)};F(x,W=>{n.loading?W(g):W(M,!1)})}d(w),d(P),h(C,P)},$$slots:{default:!0}});var D=y(T,2);ut(D,{get title(){return ce.TREASURY_SHARES},tooltip:"Shares that have been created but not yet allocated to shareholders",get open(){return s(p)},set open(C){S(p,C,!0)},children:(C,E)=>{var P=No(),w=y(m(P)),x=m(w);{var g=W=>{var ee=ie(),Q=X(ee);rt(Q,17,()=>n.unclaimedSharePool,dt,(q,B)=>{var J=ve(()=>At(s(B),2));let ne=()=>s(J)[1];var $=Po(),L=m($),de=m(L,!0);d(L);var pe=y(L),ue=m(pe,!0);d(pe),d($),V(()=>{j(de,ne().address),j(ue,ne().amount)}),h(q,$)}),h(W,ee)},M=W=>{var ee=Fo();h(W,ee)};F(x,W=>{n.unclaimedSharePool.length>0?W(g):W(M,!1)})}d(w),d(P),h(C,P)},$$slots:{default:!0}});var N=y(D,2);ut(N,{get title(){return ce.ELIGIBLE_CLAIMANTS},tooltip:"Shareholders who have been allocated shares but haven't claimed them yet",get open(){return s(c)},set open(C){S(c,C,!0)},children:(C,E)=>{var P=Wo(),w=X(P),x=y(m(w),2),g=m(x);{var M=q=>{var B=ie(),J=X(B);rt(J,17,()=>n.eligibleClaimants,dt,(ne,$)=>{var L=ve(()=>At(s($),2));let de=()=>s(L)[0],pe=()=>s(L)[1];var ue=Go(),me=m(ue),U=m(me);{var ae=H=>{var K=Oo();K.__click=[Do,i,de,e];var ye=m(K,!0);d(K),V(()=>j(ye,de())),h(H,K)},he=H=>{var K=Fe();V(()=>j(K,de())),h(H,K)};F(U,H=>{de().startsWith("KT1")?H(ae):H(he,!1)})}d(me);var Re=y(me),se=m(Re),ze=m(se),O=m(ze,!0);d(ze);var I=y(ze,2);I.__click=[qo,u,de];var Z=m(I);{var te=H=>{var K=jo(),ye=y(X(K));Ge(ye,{}),h(H,K)},be=H=>{var K=Fe("Distribute Shares");h(H,K)};F(Z,H=>{s(b)===de()?H(te):H(be,!1)})}d(I),d(se),d(Re),d(ue),V(()=>{j(O,pe()),I.disabled=s(b)===de()}),h(ne,ue)}),h(q,B)},W=q=>{var B=Bo();h(q,B)};F(g,q=>{n.eligibleClaimants.length>0?q(M):q(W,!1)})}d(x),d(w);var ee=y(w,2);{var Q=q=>{var B=Ho(),J=m(B,!0);d(B),V(()=>j(J,s(k))),h(q,B)};F(ee,q=>{s(k)&&q(Q)})}h(C,P)},$$slots:{default:!0}}),d(v),h(t,v),xe(),a()}Qe(["click"]);var Ko=A("<!> <!>",1),Yo=A('<div class="space-y-6"><!> <!></div>');function dn(t,e){_e(e,!0);const[r,a]=De(),o=()=>Se(Ce,"$contractState",r);let{state:i}=tt,n=ge({}),l=ge({});ge({claimShares:{address:""}}),ge({claimShares:!1}),ge({claimShares:null});let f=G(null),p=G(!1),c=G(null),b=ge({});async function k(w){if(!(n[w]||l[w])){l[w]=!0;try{const g=await(await fetch(`https://api.tzkt.io/v1/contracts/${w}/storage`)).json();console.log("Fetched storage for",w,g),n[w]={max_shares:g.max_shares,issued_shares:g.issued_shares,registry_number:g.registry_number},console.log("Cached max_shares:",n[w])}catch(x){console.error("Failed to fetch max_shares for",w,x)}finally{l[w]=!1}}}async function _(w){if(!(!w||b[w])){b[w]={loading:!0};try{const x=await Ke.getCompanyData(w);if(x&&x.name)b[w]={name:x.name,loading:!1};else{const g=Ke.getCacheEntry(w),M=(g==null?void 0:g.error)||"Company not found";b[w]={error:M,loading:!1}}}catch(x){const g=x instanceof Error?x.message:"Failed to fetch name";b[w]={error:g,loading:!1},console.error(`Failed to fetch shareholder name for ${w}:`,x)}}}Ne(()=>{const w=new Set;for(const[x,g]of i.heldExternalShares)g&&g.address&&w.add(g.address);for(const[x,g]of i.shareLedger)x.startsWith("KT1")&&w.add(x);w.forEach(x=>k(x))}),Ne(()=>{var w;for(const[x,g]of i.shareLedger)if(x.startsWith("KT1")&&((w=n[x])!=null&&w.registry_number)){const M=n[x].registry_number;M&&Ke.shouldFetchCompanyName(M)&&_(M)}});async function u(w){S(p,!0),S(c,null),S(f,null);try{console.log("Starting Estonian company data fetch for registry number:",w);const x=await Ke.getCompanyData(w);if(console.log("Received company data response from cache:",x),x)S(f,{name:x.name,registryCode:x.registryCode,status:x.status,address:x.address},!0),S(c,null),console.log("Successfully updated company data state:",s(f));else{const g=Ke.getCacheEntry(w),M=(g==null?void 0:g.error)||"Company not found";console.log("No company data returned from cache, error:",M),S(c,M,!0)}}catch(x){console.error("Failed to fetch company data:",x),console.error("Error details:",{message:x instanceof Error?x.message:"Unknown error",stack:x instanceof Error?x.stack:"No stack trace"}),S(c,x instanceof Error?x.message:"Failed to fetch company data",!0),Ee.add("error","Failed to fetch company data from Estonian Business Registry")}finally{S(p,!1),console.log("Company data fetch completed. Final states:",{companyData:s(f),companyDataError:s(c),companyDataLoading:s(p)})}}ar(async()=>{o().contractAddress&&v(o().contractAddress)});async function v(w){if(w){Lt(Ce,Ye(o).contractAddress=w,Ye(o)),tt.setLoading(!0);try{const x=await Za();if(tt.set({eligibleClaimants:x.eligibleClaimantsEntries,unclaimedSharePool:x.unclaimedSharePoolEntries,heldExternalShares:x.heldExternalSharesEntries,shareLedger:x.shareLedgerEntries}),Ce.update(g=>({...g,isLoaded:!0})),await Je(),o().contractAddress&&typeof o().contractAddress=="string"){const g=await Gt(()=>import("./BYXg54TK.js").then(M=>M.f),__vite__mapDeps([0,1,2]),import.meta.url).then(M=>M.Tezos.wallet.at(o().contractAddress));qe.set(g)}S(f,null),S(c,null),fe.registry_number&&await u(fe.registry_number)}catch(x){const g=x instanceof Error?x.message:"Failed to load contract data";tt.setError(g),Ee.add("error",g)}finally{tt.setLoading(!1)}}}var T=Yo(),D=m(T);ur(D,{});var N=y(D,2);{var C=w=>{var x=Ko(),g=X(x);Xs(g,{get companyData(){return s(f)},get companyDataLoading(){return s(p)},get companyDataError(){return s(c)},handleLoadContract:v});var M=y(g,2);eo(M,{children:(ee,Q=Ve)=>{var q=ie(),B=X(q);{var J=$=>{ko($,{get maxSharesCache(){return n},get maxSharesLoading(){return l},handleLoadContract:v})},ne=$=>{var L=ie(),de=X(L);{var pe=me=>{Uo(me,{get maxSharesCache(){return n},get maxSharesLoading(){return l},get shareholderNameCache(){return b},handleLoadContract:v})},ue=me=>{var U=ie(),ae=X(U);{var he=Re=>{Xa(Re,{handleLoadContract:v})};F(ae,Re=>{Q()==="admin"&&Re(he)},!0)}h(me,U)};F(de,me=>{Q()==="register"?me(pe):me(ue,!1)},!0)}h($,L)};F(B,$=>{Q()==="wallet"?$(J):$(ne,!1)})}h(ee,q)},$$slots:{default:!0}}),h(w,x)},E=w=>{};F(N,w=>{fe.admin_address!==null?w(C):w(E,!1)})}d(T),h(t,T);var P=xe({handleLoadContract:v});return a(),P}export{dn as default};
